<html>
  <body>
    <button id="loginBtn">登录</button>
  </body>

  <script>
    var createLoginLayer = function() {
      var div = document.createElement('div');
      div.innerHTML = '我是登录浮窗';
      div.style.display = 'none';
      document.body.appendChild(div);
      return div;
    };

    var getSingle = function(fn) {
      var result;
      return function() {
        console.log(this);
        return result || (result = fn.apply(this, arguments));
      }
    };

    var createSingleLoginLayer = getSingle(createLoginLayer);

    document.getElementById('loginBtn').onclick = function() {
      var loginLayer = createSingleLoginLayer();
      loginLayer.style.display = 'block';
    };
  </script>
</html>